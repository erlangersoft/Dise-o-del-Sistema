<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tips y Trucos - Tutorial PlantUML</title>
    <link rel="stylesheet" href="../css/styles.css">
    <script src="../node_modules/plantuml-encoder/dist/plantuml-encoder.min.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>üé® Tutorial Interactivo de PlantUML</h1>
            <p>Aprende a crear diagramas UML con c√≥digo de texto simple</p>
        </header>

        <div class="content">
            <div class="sidebar">
                <a href="../index.html" class="nav-button">Introducci√≥n</a>
                <a href="sequence.html" class="nav-button">Diagramas de Secuencia</a>
                <a href="class.html" class="nav-button">Diagramas de Clases</a>
                <a href="usecase.html" class="nav-button">Casos de Uso</a>
                <a href="activity.html" class="nav-button">Diagramas de Actividad</a>
                <a href="state.html" class="nav-button">Diagramas de Estado</a>
                <a href="component.html" class="nav-button">Componentes</a>
                <a href="tips.html" class="nav-button active">Tips y Trucos</a>
            </div>

            <div class="main">
                <div class="breadcrumb">
                    <a href="../index.html">Inicio</a>
                    <span>></span>
                    <span>Tips y Trucos</span>
                </div>
                
                <div class="section active">
                    <h2>Tips y Trucos Avanzados</h2>
                    <p>Descubre t√©cnicas profesionales, mejores pr√°cticas y trucos avanzados para crear diagramas PlantUML excepcionales y mejorar tu productividad.</p>

                    <div class="info">
                        <strong>üéØ Objetivo:</strong><br>
                        Dominar t√©cnicas avanzadas de PlantUML para crear diagramas profesionales, optimizar flujo de trabajo y mantener documentaci√≥n t√©cnica de alta calidad.
                    </div>

                    <h3>üé® Personalizaci√≥n Avanzada</h3>
                    
                    <h4>Temas y Estilos Personalizados</h4>
                    <div class="example">
                        <h4>Ejemplo 1: Tema Corporativo Personalizado</h4>
                        <textarea id="tips-theme-code">@startuml
!theme aws-orange

' Definici√≥n de colores corporativos
!define PRIMARY_COLOR #1f4e79
!define SECONDARY_COLOR #e67e22
!define SUCCESS_COLOR #27ae60
!define WARNING_COLOR #f39c12
!define DANGER_COLOR #e74c3c

' Configuraci√≥n global del tema
skinparam backgroundColor #f8f9fa
skinparam handwritten false
skinparam shadowing false
skinparam roundCorner 10
skinparam linetype ortho

' Estilos para clases
skinparam class {
    BackgroundColor PRIMARY_COLOR
    BorderColor #2c3e50
    FontColor white
    FontSize 12
    FontName Arial
    HeaderBackgroundColor SECONDARY_COLOR
    AttributeIconSize 0
}

' Estilos para paquetes
skinparam package {
    BackgroundColor #ecf0f1
    BorderColor PRIMARY_COLOR
    FontColor PRIMARY_COLOR
    FontSize 14
    FontStyle bold
}

' Estilos para notas
skinparam note {
    BackgroundColor #fff9c4
    BorderColor WARNING_COLOR
    FontColor #333
}

package "Sistema de Autenticaci√≥n" <<Frame>> {
    abstract class AuthProvider {
        +authenticate(credentials)
        +validateToken(token)
        #logAttempt(user)
    }
    
    class GoogleAuth extends AuthProvider {
        -clientId: String
        -clientSecret: String
        +authenticate(googleToken)
    }
    
    class LocalAuth extends AuthProvider {
        -passwordEncoder: PasswordEncoder
        +authenticate(username, password)
        +hashPassword(password)
    }
    
    class JWTService {
        -secretKey: String
        -expirationTime: Long
        +generateToken(user): String
        +validateToken(token): Boolean
        +extractClaims(token): Claims
    }
}

package "Modelo de Usuario" <<Database>> {
    class User {
        +id: UUID
        +email: String
        +hashedPassword: String
        +roles: List<Role>
        +createdAt: LocalDateTime
        +lastLogin: LocalDateTime
        +isActive(): Boolean
        +hasRole(role): Boolean
    }
    
    enum Role {
        ADMIN
        USER
        MODERATOR
        GUEST
    }
}

AuthProvider --> JWTService : uses
GoogleAuth --> User : creates
LocalAuth --> User : validates
User --> Role : has

note right of AuthProvider
    Patr√≥n Strategy para
    m√∫ltiples proveedores
    de autenticaci√≥n
end note

note bottom of JWTService
    JWT tokens expiran
    autom√°ticamente despu√©s
    de 24 horas por seguridad
end note

legend right
|Color|Significado|
|<back:PRIMARY_COLOR>   </back>|Servicios Core|
|<back:SECONDARY_COLOR>   </back>|Interfaces P√∫blicas|
|<back:#ecf0f1>   </back>|Modelos de Datos|
end legend
@enduml</textarea>
                        <button class="render-btn" onclick="renderDiagram('tips-theme-code', 'tips-theme-preview')">üé® Renderizar Diagrama</button>
                        <div class="editor-container">
                            <div></div>
                            <div class="preview" id="tips-theme-preview">
                                <span class="loading">Haz clic en "Renderizar Diagrama"</span>
                            </div>
                        </div>
                    </div>

                    <h4>Macros y Definiciones Reutilizables</h4>
                    <div class="example">
                        <h4>Ejemplo 2: Sistema de Macros para Microservicios</h4>
                        <textarea id="tips-macros-code">@startuml
' Definici√≥n de macros reutilizables
!define MICROSERVICE(name,port,tech) rectangle name as "name\n:port\n[tech]" <<microservice>>
!define DATABASE(name,type) database name as "name\n[type]" <<database>>
!define QUEUE(name,type) queue name as "name\n[type]" <<message_queue>>
!define EXTERNAL_API(name,provider) cloud name as "name\n(provider)" <<external>>

' Macros para conexiones
!define HTTP_CALL(from,to,path) from -right-> to : HTTP\npath
!define ASYNC_MSG(from,to,msg) from -down->> to : msg\n(async)
!define DATA_FLOW(from,to,type) from -up-> to : type

' Colores por tipo de componente
skinparam rectangle<<microservice>> {
    BackgroundColor #e3f2fd
    BorderColor #1976d2
}

skinparam database<<database>> {
    BackgroundColor #e8f5e8
    BorderColor #388e3c
}

skinparam queue<<message_queue>> {
    BackgroundColor #fff3e0
    BorderColor #f57c00
}

skinparam cloud<<external>> {
    BackgroundColor #fce4ec
    BorderColor #c2185b
}

title Sistema E-commerce con Microservicios\nUsando Macros Personalizadas

package "Frontend Layer" {
    MICROSERVICE(WebApp,3000,React)
    MICROSERVICE(MobileApp,N/A,Flutter)
}

package "API Gateway" {
    MICROSERVICE(Gateway,8080,Kong)
}

package "Core Services" {
    MICROSERVICE(UserService,8001,Node.js)
    MICROSERVICE(ProductService,8002,Python)
    MICROSERVICE(OrderService,8003,Java)
    MICROSERVICE(PaymentService,8004,Go)
    MICROSERVICE(NotificationService,8005,Node.js)
}

package "Data Layer" {
    DATABASE(UserDB,PostgreSQL)
    DATABASE(ProductDB,MongoDB)
    DATABASE(OrderDB,PostgreSQL)
    DATABASE(Cache,Redis)
}

package "Message Infrastructure" {
    QUEUE(OrderQueue,RabbitMQ)
    QUEUE(NotificationQueue,Apache Kafka)
}

package "External Services" {
    EXTERNAL_API(StripeAPI,Stripe)
    EXTERNAL_API(SendGridAPI,SendGrid)
    EXTERNAL_API(AWSStorage,Amazon S3)
}

' Conexiones usando macros
HTTP_CALL(WebApp,Gateway,/api/*)
HTTP_CALL(MobileApp,Gateway,/api/*)

HTTP_CALL(Gateway,UserService,/users/*)
HTTP_CALL(Gateway,ProductService,/products/*)
HTTP_CALL(Gateway,OrderService,/orders/*)

DATA_FLOW(UserService,UserDB,SQL)
DATA_FLOW(ProductService,ProductDB,NoSQL)
DATA_FLOW(OrderService,OrderDB,SQL)

ASYNC_MSG(OrderService,OrderQueue,order_created)
ASYNC_MSG(OrderQueue,NotificationService,process_notification)
ASYNC_MSG(OrderQueue,PaymentService,process_payment)

HTTP_CALL(PaymentService,StripeAPI,/charges)
HTTP_CALL(NotificationService,SendGridAPI,/mail/send)

' Caching connections
UserService -up-> Cache : read/write\nuser sessions
ProductService -up-> Cache : cache\nproduct catalog

note right of Gateway
    Kong Gateway provide:
    ‚Ä¢ Rate limiting
    ‚Ä¢ Authentication
    ‚Ä¢ Load balancing
    ‚Ä¢ Request/Response transformation
end note

note bottom of "Message Infrastructure"
    Asynchronous messaging ensures:
    ‚Ä¢ Loose coupling between services
    ‚Ä¢ Better fault tolerance
    ‚Ä¢ Improved scalability
end note
@enduml</textarea>
                        <button class="render-btn" onclick="renderDiagram('tips-macros-code', 'tips-macros-preview')">üé® Renderizar Diagrama</button>
                        <div class="editor-container">
                            <div></div>
                            <div class="preview" id="tips-macros-preview">
                                <span class="loading">Haz clic en "Renderizar Diagrama"</span>
                            </div>
                        </div>
                    </div>

                    <h3>üöÄ Integraci√≥n con Herramientas de Desarrollo</h3>

                    <div class="tip">
                        <strong>üí° Visual Studio Code:</strong><br>
                        ‚Ä¢ Instalar extensi√≥n "PlantUML" para preview en tiempo real<br>
                        ‚Ä¢ Usar snippets personalizados para diagramas comunes<br>
                        ‚Ä¢ Configurar auto-save para renderizado autom√°tico<br>
                        ‚Ä¢ Integrar con Git para versionado de diagramas
                    </div>

                    <div class="tip">
                        <strong>üîß IntelliJ IDEA / WebStorm:</strong><br>
                        ‚Ä¢ Plugin "PlantUML integration" con soporte completo<br>
                        ‚Ä¢ Validaci√≥n de sintaxis en tiempo real<br>
                        ‚Ä¢ Generaci√≥n autom√°tica desde c√≥digo fuente<br>
                        ‚Ä¢ Exportaci√≥n directa a m√∫ltiples formatos
                    </div>

                    <div class="tip">
                        <strong>üìö Documentaci√≥n en Markdown:</strong><br>
                        ‚Ä¢ Embebido directo en README.md usando URLs de PlantUML<br>
                        ‚Ä¢ Integraci√≥n con GitLab/GitHub Pages<br>
                        ‚Ä¢ Actualizaci√≥n autom√°tica en pipelines CI/CD<br>
                        ‚Ä¢ Versionado junto con el c√≥digo fuente
                    </div>

                    <h3>‚ö° Optimizaci√≥n de Rendimiento</h3>

                    <div class="example">
                        <h4>Ejemplo 3: T√©cnicas de Optimizaci√≥n</h4>
                        <textarea id="tips-optimization-code">@startuml
!theme spacelab

' Usar !include para reutilizar definiciones
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml

' Configuraci√≥n optimizada para diagramas grandes
!define DIRECTION top to bottom direction
DIRECTION

' Reducir detalles visuales para mejor rendimiento
skinparam handwritten false
skinparam shadowing false
skinparam linetype polyline

' Usar alias para elementos repetitivos
!define USER(alias, label) Person(alias, label, "Usuario del Sistema")
!define SERVICE(alias, label, tech) Container(alias, label, tech, "Microservicio")
!define DB(alias, label, tech) ContainerDb(alias, label, tech, "Base de Datos")

title Arquitectura de Alto Nivel - Vista Optimizada
!include <awslib/AWSCommon>
!include <awslib/ApplicationIntegration/APIGateway>
!include <awslib/Compute/Lambda>
!include <awslib/Database/RDS>

' Definir usuarios una sola vez
USER(customer, "Cliente")
USER(admin, "Administrador") 
USER(support, "Soporte T√©cnico")

System_Boundary(c1, "Sistema E-commerce Optimizado") {
    ' Frontend simplificado
    Container(web, "Aplicaci√≥n Web", "React + TypeScript", "SPA optimizada con lazy loading")
    Container(mobile, "App M√≥vil", "React Native", "Aplicaci√≥n nativa cross-platform")
    
    ' API Gateway √∫nico
    Container(gateway, "API Gateway", "Kong + Redis", "Gateway unificado con cach√©")
    
    ' Servicios core agrupados l√≥gicamente
    System_Boundary(core, "Servicios Principales") {
        SERVICE(auth, "Autenticaci√≥n", "Node.js + JWT")
        SERVICE(catalog, "Cat√°logo", "Python + FastAPI")  
        SERVICE(orders, "Pedidos", "Java Spring Boot")
        SERVICE(payments, "Pagos", "Go + Gin")
    }
    
    ' Datos agrupados por dominio
    System_Boundary(data, "Capa de Datos") {
        DB(userdb, "Usuarios", "PostgreSQL")
        DB(catalogdb, "Productos", "MongoDB")
        DB(orderdb, "Transacciones", "PostgreSQL")
        ContainerDb(cache, "Cach√©", "Redis Cluster", "Cach√© distribuido")
    }
}

' Servicios externos agrupados
System_Ext(stripe, "Stripe API", "Procesamiento de pagos")
System_Ext(cdn, "CloudFlare CDN", "Distribuci√≥n de contenido")
System_Ext(monitoring, "DataDog", "Monitoreo y logging")

' Conexiones principales (evitar over-engineering)
Rel(customer, web, "Usa")
Rel(customer, mobile, "Usa")
Rel(admin, web, "Administra")

Rel(web, gateway, "HTTPS/REST")
Rel(mobile, gateway, "HTTPS/REST")

Rel(gateway, auth, "Autenticaci√≥n")
Rel(gateway, catalog, "Consultas de productos")
Rel(gateway, orders, "Gesti√≥n de pedidos")

' Datos cr√≠ticos solamente
Rel(auth, userdb, "CRUD usuarios")
Rel(catalog, catalogdb, "Consulta productos")
Rel(orders, orderdb, "Transacciones")

' Cache strategy simplificada
Rel(catalog, cache, "Cache productos populares")
Rel(auth, cache, "Sesiones de usuario")

' Servicios externos esenciales
Rel(orders, stripe, "Procesar pagos")
Rel_Back(cdn, web, "Archivos est√°ticos")
Rel(gateway, monitoring, "M√©tricas y logs")

SHOW_LEGEND()

note right of gateway
    Optimizaciones aplicadas:
    ‚Ä¢ Rate limiting inteligente
    ‚Ä¢ Compresi√≥n gzip/brotli  
    ‚Ä¢ Connection pooling
    ‚Ä¢ Circuit breaker pattern
    ‚Ä¢ Request batching
end note

note bottom of cache
    Estrategia de cache:
    ‚Ä¢ TTL adaptativo
    ‚Ä¢ Cache warming
    ‚Ä¢ Invalidaci√≥n selectiva
    ‚Ä¢ Monitoring de hit ratio
end note
@enduml</textarea>
                        <button class="render-btn" onclick="renderDiagram('tips-optimization-code', 'tips-optimization-preview')">üé® Renderizar Diagrama</button>
                        <div class="editor-container">
                            <div></div>
                            <div class="preview" id="tips-optimization-preview">
                                <span class="loading">Haz clic en "Renderizar Diagrama"</span>
                            </div>
                        </div>
                    </div>

                    <h3>üéØ Mejores Pr√°cticas de Documentaci√≥n</h3>

                    <div class="info">
                        <strong>üìã Principios de Documentaci√≥n Efectiva:</strong><br>
                        1. <strong>Una verdad, una fuente:</strong> El c√≥digo y los diagramas deben estar sincronizados<br>
                        2. <strong>Niveles apropiados:</strong> Diferentes audiencias requieren diferentes niveles de detalle<br>
                        3. <strong>Actualizaci√≥n continua:</strong> Los diagramas deben evolucionar con el c√≥digo<br>
                        4. <strong>Contexto claro:</strong> Cada diagrama debe tener prop√≥sito y audiencia definidos<br>
                        5. <strong>Consistencia visual:</strong> Usar estilos y convenciones uniformes
                    </div>

                    <h4>Estrategias de Versionado</h4>
                    <div class="tip">
                        <strong>üóÇÔ∏è Organizaci√≥n de Archivos PlantUML:</strong>
                        <pre><code>docs/
‚îú‚îÄ‚îÄ architecture/
‚îÇ   ‚îú‚îÄ‚îÄ high-level/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ system-context.puml
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ container-view.puml
‚îÇ   ‚îú‚îÄ‚îÄ detailed/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sequence-diagrams/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ class-diagrams/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ component-diagrams/
‚îÇ   ‚îî‚îÄ‚îÄ deployment/
‚îÇ       ‚îú‚îÄ‚îÄ prod-environment.puml
‚îÇ       ‚îî‚îÄ‚îÄ staging-environment.puml
‚îú‚îÄ‚îÄ styles/
‚îÇ   ‚îú‚îÄ‚îÄ corporate-theme.puml
‚îÇ   ‚îú‚îÄ‚îÄ macros.puml
‚îÇ   ‚îî‚îÄ‚îÄ color-palette.puml
‚îî‚îÄ‚îÄ generated/
    ‚îú‚îÄ‚îÄ images/
    ‚îî‚îÄ‚îÄ reports/</code></pre>
                    </div>

                    <h3>üîß Automatizaci√≥n y CI/CD</h3>

                    <div class="example">
                        <h4>Ejemplo 4: Pipeline de Documentaci√≥n Autom√°tica</h4>
                        <textarea id="tips-automation-code">@startuml
!theme vibrant

title Pipeline de Documentaci√≥n Autom√°tica
skinparam backgroundColor #f8f9fa

actor Developer as dev
participant "Git Repository" as git
participant "GitHub Actions" as ci
participant "PlantUML Server" as plantuml
participant "Documentation Site" as docs
participant "Slack/Teams" as notify
database "Artifact Store" as artifacts

dev -> git : git push
note right : C√≥digo + diagramas\n.puml actualizados

git -> ci : webhook trigger
activate ci

ci -> ci : checkout code
ci -> ci : detect .puml changes
note right : Usa git diff para\ndetectar archivos modificados

alt Diagramas modificados
    ci -> plantuml : render diagrams
    note right : Conversi√≥n batch\n.puml ‚Üí .png/.svg
    
    plantuml -> ci : generated images
    
    ci -> ci : validate diagrams
    note right : Verifica sintaxis\ny detecta errores
    
    ci -> docs : update documentation
    note right : Regenera GitBook,\nMkDocs o similar
    
    ci -> artifacts : store versions
    note right : Backup de versiones\nprevias para rollback
    
    ci -> notify : send notification
    note right : Notifica cambios\na equipos interesados
    
else Sin cambios en diagramas
    ci -> ci : skip diagram generation
end

ci -> git : update status
deactivate ci

== Proceso de Revisi√≥n ==

dev -> docs : preview changes
note right : Documentaci√≥n actualizada\nautom√°ticamente disponible

alt Aprobaci√≥n requerida
    dev -> git : create pull request
    git -> ci : trigger review pipeline
    ci -> ci : generate diagram diff
    note right : Compara versi√≥n anterior\ncon nueva versi√≥n
    
    ci -> git : post review comments
    note right : Muestra diferencias\nvisuales en PR
end

== Despliegue a Producci√≥n ==

git -> ci : merge to main
ci -> docs : deploy to production
ci -> notify : deployment notification

note over dev, notify
    Beneficios de la automatizaci√≥n:
    ‚Ä¢ Documentaci√≥n siempre actualizada
    ‚Ä¢ Validaci√≥n autom√°tica de sintaxis  
    ‚Ä¢ Historial completo de cambios
    ‚Ä¢ Notificaciones proactivas
    ‚Ä¢ Rollback autom√°tico en caso de errores
end note
@enduml</textarea>
                        <button class="render-btn" onclick="renderDiagram('tips-automation-code', 'tips-automation-preview')">üé® Renderizar Diagrama</button>
                        <div class="editor-container">
                            <div></div>
                            <div class="preview" id="tips-automation-preview">
                                <span class="loading">Haz clic en "Renderizar Diagrama"</span>
                            </div>
                        </div>
                    </div>

                    <h3>üìä An√°lisis y M√©tricas</h3>

                    <div class="tip">
                        <strong>üìà KPIs para Documentaci√≥n T√©cnica:</strong><br>
                        ‚Ä¢ <strong>Coverage:</strong> Porcentaje de c√≥digo documentado<br>
                        ‚Ä¢ <strong>Freshness:</strong> Tiempo desde √∫ltima actualizaci√≥n<br>
                        ‚Ä¢ <strong>Usage:</strong> Frecuencia de acceso a diagramas<br>
                        ‚Ä¢ <strong>Quality:</strong> Feedback de desarrolladores<br>
                        ‚Ä¢ <strong>Maintenance:</strong> Tiempo de actualizaci√≥n
                    </div>

                    <h3>üõ†Ô∏è Herramientas y Plugins √ötiles</h3>

                    <div class="info">
                        <strong>üîå Ecosistema de Herramientas:</strong><br>
                        <br>
                        <strong>Editores:</strong><br>
                        ‚Ä¢ VS Code: PlantUML, PlantUML Previewer<br>
                        ‚Ä¢ Atom: plantuml-viewer, language-plantuml<br>
                        ‚Ä¢ Sublime Text: PlantUMLPreview<br>
                        ‚Ä¢ Vim: plantuml-syntax, plantuml-previewer<br>
                        <br>
                        <strong>Integraci√≥n Web:</strong><br>
                        ‚Ä¢ Confluence: PlantUML Plugin<br>
                        ‚Ä¢ Notion: PlantUML embeds<br>
                        ‚Ä¢ GitLab: native PlantUML support<br>
                        ‚Ä¢ GitHub: PlantUML proxy servers<br>
                        <br>
                        <strong>Generadores:</strong><br>
                        ‚Ä¢ IntelliJ: PlantUML Generator<br>
                        ‚Ä¢ Eclipse: PlantUML Eclipse Plugin<br>
                        ‚Ä¢ Maven: plantuml-maven-plugin<br>
                        ‚Ä¢ Gradle: gradle-plantuml-plugin
                    </div>

                    <h3>üé® Galer√≠a de Patrones Avanzados</h3>

                    <div class="example">
                        <h4>Ejemplo 5: Patrones Visuales Profesionales</h4>
                        <textarea id="tips-patterns-code">@startuml
!theme carbon-gray

' Patr√≥n: Separaci√≥n por capas con colores
!define PRESENTATION_COLOR #FF6B6B
!define BUSINESS_COLOR #4ECDC4  
!define DATA_COLOR #45B7D1
!define EXTERNAL_COLOR #96CEB4

skinparam rectangle<<presentation>> {
    BackgroundColor PRESENTATION_COLOR
    FontColor white
}

skinparam rectangle<<business>> {
    BackgroundColor BUSINESS_COLOR
    FontColor white
}

skinparam rectangle<<data>> {
    BackgroundColor DATA_COLOR
    FontColor white
}

skinparam cloud<<external>> {
    BackgroundColor EXTERNAL_COLOR
    FontColor white
}

title Arquitectura por Capas - Patr√≥n Visual Profesional

package "Capa de Presentaci√≥n" #PRESENTATION_COLOR {
    rectangle "React SPA\n[TypeScript]" <<presentation>> as spa
    rectangle "Admin Panel\n[Angular]" <<presentation>> as admin
    rectangle "Mobile App\n[React Native]" <<presentation>> as mobile
    rectangle "Desktop App\n[Electron]" <<presentation>> as desktop
}

package "Capa de Negocio" #BUSINESS_COLOR {
    rectangle "API Gateway\n[Kong]" <<business>> as gateway
    rectangle "Auth Service\n[OAuth 2.0]" <<business>> as auth
    rectangle "Business Logic\n[Domain Services]" <<business>> as business
    rectangle "Workflow Engine\n[Zeebe]" <<business>> as workflow
}

package "Capa de Datos" #DATA_COLOR {
    rectangle "Repository Layer\n[JPA/Hibernate]" <<data>> as repo
    rectangle "Cache Manager\n[Redis]" <<data>> as cache
    rectangle "Event Store\n[EventSourcing]" <<data>> as events
    rectangle "File Storage\n[MinIO]" <<data>> as storage
}

package "Servicios Externos" #EXTERNAL_COLOR {
    cloud "Payment Gateway\n[Stripe]" <<external>> as payments
    cloud "Email Service\n[SendGrid]" <<external>> as email
    cloud "SMS Service\n[Twilio]" <<external>> as sms
    cloud "Analytics\n[Google Analytics]" <<external>> as analytics
}

' Conexiones con patrones visuales
spa -[#PRESENTATION_COLOR]down-> gateway : HTTPS/REST
admin -[#PRESENTATION_COLOR]down-> gateway : GraphQL
mobile -[#PRESENTATION_COLOR]down-> gateway : HTTP/2
desktop -[#PRESENTATION_COLOR]down-> gateway : gRPC

gateway -[#BUSINESS_COLOR]down-> auth : JWT Validation
gateway -[#BUSINESS_COLOR]down-> business : Service Calls  
business -[#BUSINESS_COLOR]right-> workflow : Process Execution

business -[#DATA_COLOR]down-> repo : Data Access
business -[#DATA_COLOR]down-> cache : Caching Strategy
repo -[#DATA_COLOR]right-> events : Event Publishing
business -[#DATA_COLOR]down-> storage : File Operations

business -[#EXTERNAL_COLOR]up-> payments : Payment Processing
business -[#EXTERNAL_COLOR]up-> email : Notifications
business -[#EXTERNAL_COLOR]up-> sms : OTP/Alerts
spa -[#EXTERNAL_COLOR]up-> analytics : User Tracking

' Patrones de anotaci√≥n profesional
note right of gateway
    <&shield-alt> Security Layer
    ‚Ä¢ Rate Limiting: 100 req/min
    ‚Ä¢ API Versioning: v1, v2
    ‚Ä¢ CORS Configuration
    ‚Ä¢ Request/Response Transformation
end note

note bottom of business
    <&cog> Business Rules Engine
    ‚Ä¢ Domain Events Publishing
    ‚Ä¢ Complex Business Validations
    ‚Ä¢ Audit Trail Logging
    ‚Ä¢ Performance Monitoring
end note

note left of repo
    <&database> Data Consistency
    ‚Ä¢ ACID Transactions
    ‚Ä¢ Connection Pooling
    ‚Ä¢ Query Optimization
    ‚Ä¢ Data Validation
end note

legend top left
    <&layers> Architectural Layers
    |<back:PRESENTATION_COLOR>        </back>| Presentation Layer |
    |<back:BUSINESS_COLOR>        </back>| Business Logic Layer |
    |<back:DATA_COLOR>        </back>| Data Access Layer |  
    |<back:EXTERNAL_COLOR>        </back>| External Integration |
end legend
@enduml</textarea>
                        <button class="render-btn" onclick="renderDiagram('tips-patterns-code', 'tips-patterns-preview')">üé® Renderizar Diagrama</button>
                        <div class="editor-container">
                            <div></div>
                            <div class="preview" id="tips-patterns-preview">
                                <span class="loading">Haz clic en "Renderizar Diagrama"</span>
                            </div>
                        </div>
                    </div>

                    <h3>üö® Soluci√≥n de Problemas Comunes</h3>

                    <div class="warning">
                        <strong>‚ùå Problemas Frecuentes y Soluciones:</strong><br>
                        <br>
                        <strong>1. Diagramas demasiado complejos:</strong><br>
                        ‚Ä¢ Soluci√≥n: Dividir en m√∫ltiples diagramas por contexto<br>
                        ‚Ä¢ Usar abstracciones apropiadas para cada audiencia<br>
                        <br>
                        <strong>2. Texto ilegible en elementos peque√±os:</strong><br>
                        ‚Ä¢ Soluci√≥n: Ajustar skinparam FontSize y usar abreviaciones<br>
                        ‚Ä¢ Optimizar para formato de salida (web vs impresi√≥n)<br>
                        <br>
                        <strong>3. Elementos superpuestos o mal posicionados:</strong><br>
                        ‚Ä¢ Soluci√≥n: Usar direction expl√≠citas y hidden lines<br>
                        ‚Ä¢ Definir layout con -up-, -down-, -left-, -right-<br>
                        <br>
                        <strong>4. Renderizado lento de diagramas grandes:</strong><br>
                        ‚Ä¢ Soluci√≥n: Reducir elementos decorativos (shadowing, gradients)<br>
                        ‚Ä¢ Usar !include para reutilizar definiciones<br>
                        ‚Ä¢ Implementar lazy loading en aplicaciones web<br>
                        <br>
                        <strong>5. Inconsistencia visual entre diagramas:</strong><br>
                        ‚Ä¢ Soluci√≥n: Crear theme personalizado con skinparam globales<br>
                        ‚Ä¢ Usar bibliotecas de estilos compartidos<br>
                        ‚Ä¢ Establecer gu√≠as de estilo para el equipo
                    </div>

                    <h3>üìö Recursos Adicionales</h3>

                    <div class="info">
                        <strong>üåê Comunidad y Recursos:</strong><br>
                        <br>
                        <strong>Documentaci√≥n Oficial:</strong><br>
                        ‚Ä¢ <a href="https://plantuml.com" target="_blank">plantuml.com</a> - Documentaci√≥n completa<br>
                        ‚Ä¢ <a href="http://www.plantuml.com/plantuml/uml/" target="_blank">Editor Online</a> - Pruebas r√°pidas<br>
                        ‚Ä¢ <a href="https://github.com/plantuml" target="_blank">GitHub PlantUML</a> - C√≥digo fuente y issues<br>
                        <br>
                        <strong>Bibliotecas y Extensiones:</strong><br>
                        ‚Ä¢ <a href="https://github.com/plantuml-stdlib/C4-PlantUML" target="_blank">C4 Model</a> - Diagramas de arquitectura<br>
                        ‚Ä¢ <a href="https://github.com/awslabs/aws-icons-for-plantuml" target="_blank">AWS Icons</a> - Iconos oficiales de AWS<br>
                        ‚Ä¢ <a href="https://github.com/Azure/Azure-PlantUML" target="_blank">Azure PlantUML</a> - Recursos de Microsoft Azure<br>
                        ‚Ä¢ <a href="https://github.com/plantuml-stdlib/gilbarbara-plantuml-sprites" target="_blank">Tech Sprites</a> - Iconos de tecnolog√≠as<br>
                        <br>
                        <strong>Herramientas Complementarias:</strong><br>
                        ‚Ä¢ <a href="https://mermaid-js.github.io/" target="_blank">Mermaid</a> - Alternativa para diagramas simples<br>
                        ‚Ä¢ <a href="https://www.draw.io/" target="_blank">Draw.io</a> - Editor gr√°fico complementario<br>
                        ‚Ä¢ <a href="https://structurizr.com/" target="_blank">Structurizr</a> - Arquitectura como c√≥digo<br>
                        ‚Ä¢ <a href="https://c4model.com/" target="_blank">C4 Model</a> - Metodolog√≠a de documentaci√≥n
                    </div>

                    <h3>üéì Siguientes Pasos</h3>

                    <div class="tip">
                        <strong>üöÄ Plan de Aprendizaje Avanzado:</strong><br>
                        <br>
                        <strong>Nivel Intermedio:</strong><br>
                        1. Dominar todos los tipos de diagramas UML<br>
                        2. Crear biblioteca personal de macros y estilos<br>
                        3. Implementar automatizaci√≥n b√°sica con CI/CD<br>
                        4. Integrar PlantUML en flujo de desarrollo diario<br>
                        <br>
                        <strong>Nivel Avanzado:</strong><br>
                        1. Desarrollar extensiones personalizadas<br>
                        2. Contribuir a proyectos open source PlantUML<br>
                        3. Crear herramientas de an√°lisis de diagramas<br>
                        4. Liderar iniciativas de documentaci√≥n en equipos<br>
                        <br>
                        <strong>Nivel Expert:</strong><br>
                        1. Dise√±ar DSLs espec√≠ficos para tu dominio<br>
                        2. Implementar generaci√≥n autom√°tica desde c√≥digo<br>
                        3. Crear plataformas de documentaci√≥n corporativa<br>
                        4. Formar y mentorear a otros desarrolladores
                    </div>

                    <h3>üí° Ejercicio Final - Proyecto Completo</h3>

                    <div class="example">
                        <h4>Reto: Sistema de Gesti√≥n Hospitalaria</h4>
                        <p>Aplica todo lo aprendido creando documentaci√≥n completa para un sistema hospitalario:</p>
                        
                        <ul>
                            <li><strong>Contexto:</strong> Diagrama de casos de uso general</li>
                            <li><strong>Procesos:</strong> Diagramas de actividad para admisi√≥n de pacientes</li>
                            <li><strong>Interacciones:</strong> Secuencias de cita m√©dica y emergencias</li>
                            <li><strong>Estructura:</strong> Clases del modelo de dominio m√©dico</li>
                            <li><strong>Estados:</strong> Ciclo de vida de una cita m√©dica</li>
                            <li><strong>Arquitectura:</strong> Componentes del sistema distribuido</li>
                        </ul>
                        
                        <textarea id="tips-final-exercise-code">@startuml
' Comienza aqu√≠ tu proyecto completo
' Usa los conocimientos de todas las secciones anteriores

@startuml
title Sistema de Gesti√≥n Hospitalaria - Vista General
' Agrega casos de uso principales aqui

actor Paciente
actor "M√©dico" as Doctor
actor "Enfermera" as Nurse
actor "Administrador" as Admin

rectangle "Sistema Hospitalario" {
    usecase "Registrar Paciente" as UC1
    usecase "Agendar Cita" as UC2
    usecase "Consulta M√©dica" as UC3
    ' Agrega m√°s casos de uso...
}

Paciente --> UC1
Paciente --> UC2
Doctor --> UC3

' Desarrolla:
' 1. Casos de uso completos con extend/include
' 2. Diagramas de clases del modelo m√©dico  
' 3. Secuencias de procesos cr√≠ticos
' 4. Estados de expedientes y citas
' 5. Actividades de procesos de negocio
' 6. Arquitectura t√©cnica del sistema
@enduml</textarea>
                        <button class="render-btn" onclick="renderDiagram('tips-final-exercise-code', 'tips-final-exercise-preview')">üé® Renderizar Diagrama</button>
                        <div class="editor-container">
                            <div></div>
                            <div class="preview" id="tips-final-exercise-preview">
                                <span class="loading">Haz clic en "Renderizar Diagrama"</span>
                            </div>
                        </div>
                    </div>

                    <div class="info">
                        <strong>üéØ ¬°Felicitaciones!</strong><br>
                        Has completado el tutorial avanzado de PlantUML. Ahora tienes las herramientas y conocimientos para:<br>
                        ‚Ä¢ Crear diagramas UML profesionales y consistentes<br>
                        ‚Ä¢ Integrar PlantUML en flujos de trabajo modernos<br>
                        ‚Ä¢ Automatizar la generaci√≥n y actualizaci√≥n de documentaci√≥n<br>
                        ‚Ä¢ Aplicar mejores pr√°cticas en proyectos reales<br>
                        ‚Ä¢ Contribuir a la cultura de documentaci√≥n en tu organizaci√≥n
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer style="background: #f8f9fa; padding: 20px; text-align: center; margin-top: 40px; border-top: 1px solid #e0e0e0;">
        <p style="color: #666; margin: 0;">
            ¬© 2025 Tutorial PlantUML | 
            <a href="https://plantuml.com" target="_blank" style="color: #667eea;">Documentaci√≥n Oficial</a> | 
            <a href="https://github.com" target="_blank" style="color: #667eea;">GitHub</a>
        </p>
        <p style="color: #888; font-size: 0.9em; margin: 10px 0 0 0;">
            Creado para la comunidad de desarrolladores
        </p>
    </footer>

    <script src="../js/main.js"></script>
</body>
</html>