<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diagramas de Actividad - Tutorial PlantUML</title>
    <link rel="stylesheet" href="../css/styles.css">
    <script src="../node_modules/plantuml-encoder/dist/plantuml-encoder.min.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>üé® Tutorial Interactivo de PlantUML</h1>
            <p>Aprende a crear diagramas UML con c√≥digo de texto simple</p>
        </header>

        <div class="content">
            <div class="sidebar">
                <a href="../index.html" class="nav-button">Introducci√≥n</a>
                <a href="sequence.html" class="nav-button">Diagramas de Secuencia</a>
                <a href="class.html" class="nav-button">Diagramas de Clases</a>
                <a href="usecase.html" class="nav-button">Casos de Uso</a>
                <a href="activity.html" class="nav-button active">Diagramas de Actividad</a>
                <a href="state.html" class="nav-button">Diagramas de Estado</a>
                <a href="component.html" class="nav-button">Componentes</a>
                <a href="tips.html" class="nav-button">Tips y Trucos</a>
            </div>

            <div class="main">
                <div class="breadcrumb">
                    <a href="../index.html">Inicio</a>
                    <span>></span>
                    <span>Diagramas de Actividad</span>
                </div>
                
                <div class="section active">
                    <h2>Diagramas de Actividad</h2>
                    <p>Los diagramas de actividad muestran el flujo de trabajo o proceso de un sistema, representando la secuencia de actividades, decisiones, paralelismo y sincronizaci√≥n en un proceso de negocio o algoritmo.</p>

                    <div class="info">
                        <strong>üéØ Objetivo de aprendizaje:</strong><br>
                        Al completar esta secci√≥n, podr√°s modelar procesos complejos con decisiones, paralelismo, bucles y manejo de excepciones usando diagramas de actividad.
                    </div>

                    <h3>Elementos B√°sicos</h3>
                    <ul>
                        <li><code>start</code> : Punto de inicio del diagrama</li>
                        <li><code>stop</code> : Punto final del diagrama</li>
                        <li><code>:actividad;</code> : Una actividad o acci√≥n</li>
                        <li><code>if/then/else/endif</code> : Decisi√≥n condicional</li>
                        <li><code>while/endwhile</code> : Bucle con condici√≥n</li>
                        <li><code>repeat/repeat while</code> : Bucle do-while</li>
                        <li><code>fork/fork again/end fork</code> : Paralelismo</li>
                    </ul>

                    <div class="example">
                        <h4>Ejemplo 1: Proceso Simple de Login</h4>
                        <textarea id="activity-basic-code">@startuml
start
:Usuario ingresa credenciales;
:Validar formato de email;

if (¬øEmail v√°lido?) then (s√≠)
    :Verificar en base de datos;
    if (¬øCredenciales correctas?) then (s√≠)
        :Crear sesi√≥n de usuario;
        :Redirigir a dashboard;
        stop
    else (no)
        :Incrementar contador de intentos;
        if (¬øM√°s de 3 intentos?) then (s√≠)
            :Bloquear cuenta temporalmente;
            :Enviar email de notificaci√≥n;
            stop
        else (no)
            :Mostrar mensaje de error;
            :Regresar al formulario;
            stop
        endif
    endif
else (no)
    :Mostrar error de formato;
    :Regresar al formulario;
    stop
endif
@enduml</textarea>
                        <button class="render-btn" onclick="renderDiagram('activity-basic-code', 'activity-basic-preview')">üé® Renderizar Diagrama</button>
                        <div class="editor-container">
                            <div></div>
                            <div class="preview" id="activity-basic-preview">
                                <span class="loading">Haz clic en "Renderizar Diagrama"</span>
                            </div>
                        </div>
                    </div>

                    <h3>Paralelismo y Sincronizaci√≥n</h3>
                    <p>Los diagramas de actividad pueden modelar procesos que ocurren en paralelo y se sincronizan en puntos espec√≠ficos.</p>

                    <div class="example">
                        <h4>Ejemplo 2: Procesamiento de Pedido con Paralelismo</h4>
                        <textarea id="activity-parallel-code">@startuml
start
:Recibir pedido del cliente;
:Validar datos del pedido;

if (¬øPedido v√°lido?) then (s√≠)
    :Generar n√∫mero de orden;
    
    fork
        :Verificar inventario;
        if (¬øStock disponible?) then (s√≠)
            :Reservar productos;
        else (no)
            :Solicitar reabastecimiento;
            :Esperar confirmaci√≥n;
            stop
        endif
    fork again
        :Validar informaci√≥n de pago;
        if (¬øTarjeta v√°lida?) then (s√≠)
            :Procesar cargo;
            if (¬øPago aprobado?) then (s√≠)
                :Confirmar transacci√≥n;
            else (no)
                :Registrar pago fallido;
                stop
            endif
        else (no)
            :Solicitar m√©todo de pago alternativo;
            stop
        endif
    fork again
        :Calcular costos de env√≠o;
        :Seleccionar transportista;
        :Programar fecha de entrega;
    end fork
    
    :Consolidar informaci√≥n del pedido;
    :Generar factura;
    
    fork
        :Enviar confirmaci√≥n por email;
    fork again
        :Actualizar sistema de inventario;
    fork again
        :Notificar al almac√©n;
    end fork
    
    :Iniciar proceso de preparaci√≥n;
    stop
else (no)
    :Enviar mensaje de error al cliente;
    stop
endif
@enduml</textarea>
                        <button class="render-btn" onclick="renderDiagram('activity-parallel-code', 'activity-parallel-preview')">üé® Renderizar Diagrama</button>
                        <div class="editor-container">
                            <div></div>
                            <div class="preview" id="activity-parallel-preview">
                                <span class="loading">Haz clic en "Renderizar Diagrama"</span>
                            </div>
                        </div>
                    </div>

                    <h3>Bucles y Repeticiones</h3>
                    <p>Los diagramas pueden incluir diferentes tipos de bucles para representar procesos repetitivos.</p>

                    <div class="example">
                        <h4>Ejemplo 3: Procesamiento de Archivo con Bucles</h4>
                        <textarea id="activity-loops-code">@startuml
start
:Recibir archivo para procesar;
:Validar formato del archivo;

if (¬øFormato correcto?) then (no)
    :Registrar error de formato;
    stop
else (s√≠)
    :Abrir archivo;
    :Inicializar contador de l√≠neas;
    
    while (¬øHay m√°s l√≠neas por procesar?) is (s√≠)
        :Leer siguiente l√≠nea;
        :Incrementar contador;
        
        if (¬øL√≠nea v√°lida?) then (s√≠)
            :Procesar datos de la l√≠nea;
            
            repeat
                :Intentar guardar en base de datos;
                if (¬øError de conexi√≥n?) then (s√≠)
                    :Esperar 2 segundos;
                else (no)
                    break
                endif
            repeat while (¬øReintentos < 3?) is (s√≠)
            -> no;
            :Registrar error cr√≠tico;
            stop
            
        else (no)
            :Registrar l√≠nea con error;
            note right: Contin√∫a procesando\nlas siguientes l√≠neas
        endif
    endwhile (no)
    
    :Cerrar archivo;
    :Generar reporte de procesamiento;
    
    if (¬øErrores encontrados?) then (s√≠)
        :Enviar reporte con errores;
    else (no)
        :Confirmar procesamiento exitoso;
    endif
    
    stop
endif
@enduml</textarea>
                        <button class="render-btn" onclick="renderDiagram('activity-loops-code', 'activity-loops-preview')">üé® Renderizar Diagrama</button>
                        <div class="editor-container">
                            <div></div>
                            <div class="preview" id="activity-loops-preview">
                                <span class="loading">Haz clic en "Renderizar Diagrama"</span>
                            </div>
                        </div>
                    </div>

                    <h3>Particiones y Responsabilidades</h3>
                    <p>Usa particiones para mostrar qu√© actor o sistema es responsable de cada actividad.</p>

                    <div class="example">
                        <h4>Ejemplo 4: Proceso de Contrataci√≥n con Particiones</h4>
                        <textarea id="activity-partitions-code">@startuml
|#LightBlue|Candidato|
start
:Enviar CV;
:Completar formulario online;

|#LightGreen|Recursos Humanos|
:Revisar documentaci√≥n;
if (¬øCumple requisitos b√°sicos?) then (no)
    :Enviar email de rechazo;
    |Candidato|
    :Recibir notificaci√≥n;
    stop
else (s√≠)
    :Programar entrevista inicial;
    :Enviar invitaci√≥n;
    
    |Candidato|
    :Confirmar asistencia;
    :Asistir a entrevista;
    
    |Recursos Humanos|
    :Realizar entrevista inicial;
    :Evaluar candidato;
    
    if (¬øPasa primera entrevista?) then (no)
        :Registrar feedback;
        :Enviar email de rechazo;
        |Candidato|
        stop
    else (s√≠)
        |#LightCoral|Jefe del Departamento|
        :Recibir perfil del candidato;
        :Programar entrevista t√©cnica;
        
        |Candidato|
        :Asistir a entrevista t√©cnica;
        
        |Jefe del Departamento|
        :Evaluar habilidades t√©cnicas;
        
        if (¬øAprueba evaluaci√≥n t√©cnica?) then (s√≠)
            |#LightYellow|Director General|
            :Revisar propuesta de contrataci√≥n;
            :Aprobar presupuesto;
            
            |Recursos Humanos|
            :Preparar oferta de trabajo;
            :Enviar oferta al candidato;
            
            |Candidato|
            :Revisar oferta;
            
            if (¬øAcepta oferta?) then (s√≠)
                :Firmar contrato;
                
                |Recursos Humanos|
                :Procesar documentaci√≥n;
                :Programar inducci√≥n;
                :Crear perfil en sistema;
                
                fork
                    :Solicitar equipo de trabajo;
                fork again
                    :Crear cuentas de acceso;
                fork again
                    :Programar capacitaci√≥n inicial;
                end fork
                
                stop
            else (no)
                :Registrar rechazo de oferta;
                stop
            endif
        else (no)
            :Registrar resultado de evaluaci√≥n;
            |Candidato|
            stop
        endif
    endif
endif
@enduml</textarea>
                        <button class="render-btn" onclick="renderDiagram('activity-partitions-code', 'activity-partitions-preview')">üé® Renderizar Diagrama</button>
                        <div class="editor-container">
                            <div></div>
                            <div class="preview" id="activity-partitions-preview">
                                <span class="loading">Haz clic en "Renderizar Diagrama"</span>
                            </div>
                        </div>
                    </div>

                    <h3>Manejo de Excepciones</h3>

                    <div class="example">
                        <h4>Ejemplo 5: Backup de Sistema con Manejo de Errores</h4>
                        <textarea id="activity-exceptions-code">@startuml
start
:Iniciar proceso de backup;
:Verificar espacio en disco;

if (¬øEspacio suficiente?) then (no)
    :Limpiar archivos temporales;
    if (¬øEspacio disponible ahora?) then (no)
        :Enviar alerta cr√≠tica;
        :Cancelar backup;
        stop
    endif
endif

:Crear directorio de backup;
:Listar archivos a respaldar;

while (¬øHay archivos pendientes?) is (s√≠)
    :Seleccionar siguiente archivo;
    
    try {
        :Copiar archivo;
        :Verificar integridad;
    } catch (Error de lectura) {
        :Registrar archivo corrupto;
        :Continuar con siguiente archivo;
    } catch (Error de escritura) {
        :Verificar espacio en disco;
        if (¬øSin espacio?) then (s√≠)
            :Limpiar backups antiguos;
            :Reintentar copia;
        else (no)
            :Registrar error de E/O;
            :Marcar backup como parcial;
        endif
    } catch (Error de red) {
        repeat
            :Esperar reconexi√≥n;
            :Reintentar operaci√≥n;
        repeat while (¬øFalla conexi√≥n?) is (s√≠)
        -> no;
    }
endwhile (no)

:Comprimir archivos de backup;
:Calcular checksum del backup;
:Guardar metadatos;

fork
    :Enviar backup a almacenamiento remoto;
fork again
    :Actualizar log de backups;
fork again
    :Limpiar archivos temporales;
end fork

:Generar reporte de backup;

if (¬øBackup completado exitosamente?) then (s√≠)
    :Enviar notificaci√≥n de √©xito;
else (no)
    :Enviar notificaci√≥n de backup parcial;
endif

stop
@enduml</textarea>
                        <button class="render-btn" onclick="renderDiagram('activity-exceptions-code', 'activity-exceptions-preview')">üé® Renderizar Diagrama</button>
                        <div class="editor-container">
                            <div></div>
                            <div class="preview" id="activity-exceptions-preview">
                                <span class="loading">Haz clic en "Renderizar Diagrama"</span>
                            </div>
                        </div>
                    </div>

                    <h3>Ejercicios Pr√°cticos</h3>

                    <div class="example">
                        <h4>Ejercicio 1: Proceso de Aprobaci√≥n de Pr√©stamo</h4>
                        <p>Completa este diagrama para un proceso bancario de aprobaci√≥n de pr√©stamos que incluya:</p>
                        <ul>
                            <li>Verificaci√≥n de documentos</li>
                            <li>Evaluaci√≥n crediticia</li>
                            <li>Aprobaciones m√∫ltiples seg√∫n el monto</li>
                            <li>Manejo de rechazos y apelaciones</li>
                        </ul>
                        <textarea id="activity-exercise-code">@startuml
|Cliente|
start
:Solicitar pr√©stamo;
:Completar formulario;
:Entregar documentos;

|#LightBlue|Oficial de Cr√©dito|
:Revisar solicitud;
' Completa el proceso de evaluaci√≥n

if (¬øDocumentos completos?) then (s√≠)
    ' Agrega el flujo de evaluaci√≥n crediticia
    ' Incluye decisiones basadas en el monto
    ' Maneja diferentes niveles de aprobaci√≥n
else (no)
    ' Maneja documentos faltantes
endif

' Agrega m√°s actores si es necesario
' Considera paralelismo donde sea apropiado
@enduml</textarea>
                        <button class="render-btn" onclick="renderDiagram('activity-exercise-code', 'activity-exercise-preview')">üé® Renderizar Diagrama</button>
                        <div class="editor-container">
                            <div></div>
                            <div class="preview" id="activity-exercise-preview">
                                <span class="loading">Haz clic en "Renderizar Diagrama"</span>
                            </div>
                        </div>
                    </div>

                    <h3>Consejos y Mejores Pr√°cticas</h3>
                    <div class="tip">
                        <strong>üí° Tips para Diagramas de Actividad:</strong><br>
                        ‚Ä¢ Usa nombres de actividades claros y en infinitivo<br>
                        ‚Ä¢ Modela el flujo desde la perspectiva del proceso<br>
                        ‚Ä¢ Usa particiones para mostrar responsabilidades<br>
                        ‚Ä¢ Evita demasiados niveles de anidaci√≥n<br>
                        ‚Ä¢ Incluye manejo de errores para procesos cr√≠ticos
                    </div>

                    <h3>Tipos de Elementos Avanzados</h3>
                    <ul>
                        <li><code>floating</code> : Actividades sin conexi√≥n espec√≠fica</li>
                        <li><code>detach</code> : Termina un hilo de ejecuci√≥n</li>
                        <li><code>kill</code> : Termina todos los hilos</li>
                        <li><code>backward</code> : Flecha hacia atr√°s</li>
                        <li><code>note</code> : Agregar anotaciones explicativas</li>
                    </ul>

                    <h3>Comandos √ötiles Espec√≠ficos</h3>
                    <ul>
                        <li><code>skinparam activity</code> : Personaliza colores de actividades</li>
                        <li><code>!theme</code> : Aplica temas predefinidos</li>
                        <li><code>title/header/footer</code> : Agrega informaci√≥n del diagrama</li>
                        <li><code>legend</code> : Incluye leyenda explicativa</li>
                        <li><code>scale</code> : Ajusta el tama√±o del diagrama</li>
                    </ul>

                    <div class="warning">
                        <strong>‚ö†Ô∏è Errores Comunes:</strong><br>
                        ‚Ä¢ Mezclar niveles de abstracci√≥n en el mismo diagrama<br>
                        ‚Ä¢ No usar particiones cuando hay m√∫ltiples actores<br>
                        ‚Ä¢ Olvidar puntos de sincronizaci√≥n despu√©s de fork<br>
                        ‚Ä¢ Crear diagramas demasiado complejos para una sola vista<br>
                        ‚Ä¢ No manejar casos excepcionales importantes
                    </div>

                    <div class="info">
                        <strong>üéØ Casos de Uso Ideales:</strong><br>
                        ‚Ä¢ <strong>Procesos de negocio:</strong> Workflows organizacionales<br>
                        ‚Ä¢ <strong>Algoritmos:</strong> L√≥gica de programaci√≥n compleja<br>
                        ‚Ä¢ <strong>Casos de uso:</strong> Detallar el comportamiento interno<br>
                        ‚Ä¢ <strong>Procesos de sistema:</strong> Flujos automatizados<br>
                        ‚Ä¢ <strong>Procedimientos:</strong> Instructivos paso a paso
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer style="background: #f8f9fa; padding: 20px; text-align: center; margin-top: 40px; border-top: 1px solid #e0e0e0;">
        <p style="color: #666; margin: 0;">
            ¬© 2025 Tutorial PlantUML | 
            <a href="https://plantuml.com" target="_blank" style="color: #667eea;">Documentaci√≥n Oficial</a> | 
            <a href="https://github.com" target="_blank" style="color: #667eea;">GitHub</a>
        </p>
        <p style="color: #888; font-size: 0.9em; margin: 10px 0 0 0;">
            Creado para la comunidad de desarrolladores
        </p>
    </footer>

    <script src="../js/main.js"></script>
</body>
</html>